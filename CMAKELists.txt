cmake_minimum_required(VERSION 3.15)

set(CMAKE_TOOLCHAIN_FILE "$ENV{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake")
#message(STATUS "VCPKG ROOT: $ENV{VCPKG_ROOT}")

project(ConcurrentOrderServer)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

include_directories(include)

add_executable(server
    src/main.cpp
    src/Threadpool.cpp
    src/TcpServer.cpp
    src/OrderBook.cpp
    src/RequestHandler.cpp
    src/Database.cpp
)

target_include_directories(server PRIVATE
    C:/Users/docto/vcpkg/installed/x64-windows/include
)

target_link_libraries(server
    C:/Users/docto/vcpkg/installed/x64-windows/lib/sqlite3.lib
    ws2_32
)

#find_package(sqlite3 CONFIG REQUIRED)

#target_link_libraries(server
#    sqlite3
#    ws2_32
#)